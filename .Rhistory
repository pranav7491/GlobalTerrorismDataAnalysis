install.packages("leaflet")
install.packages("treemap")
install.packages("tm")
install.packages("tidytext")
install.packages("wordcloud")
install.packages("kableExtra")
install.packages("formattable")
library(ggplot2)
library(leaflet)
library(treemap)
library(corrplot)
library(tm)
library(tidytext)
library(tidyr)
library(wordcloud)
library(knitr)
library(kableExtra)
library(formattable)
library(dplyr)
options(knitr.table.format = "html")
df <- read.csv("C:/Users/prana/OneDrive/Documents/globalterrorismdb_0617dist.csv", stringsAsFactors=FALSE)
head(df)
df %>% filter(nkill > 0) -> dfk
treemap(dfk,
index = c("iyear"),
vSize="nkill",
palette="Blues",
title="Killing in Global terrorism",
fontsize.title = 14)
dev.off()
treemap(dfk,
index = c("country_txt","iyear"),
type="value",
vSize="nkill",
vColor = "nwound",
palette="Reds",
title="Killings in Global terrorism  (Countries/Years) - size is proportional with the number of killings",
title.legend = "Number of wounded",
fontsize.title = 14)
ds <- subset(df,weapdetail != "" & iyear != "")
nrow(ds)
nrow(df)
head(ds$weapdetail)
#Number of people killed and wounded using different weapons each year where,
#size of box is proportional to number of people killed and darkness of color is
#proportional to number of people wounded
treemap(ds,
index = c("weapdetail","iyear"),
type="value",
vSize="nkill",
vColor = "nwound",
palette="RdYlBu",
title="Killings in Global terrorism per weapon",
title.legend = "Number of wounded",
fontsize.title = 14)
dfexplosive<- subset(df,weapdetail == "Explosive" & iyear != "")
head(dfexplosive$weapdetail)
nrow(dfexplosive)
dfexplosive<- subset(df,weapdetail == "Explosive" & iyear != "", select = c(iyear,nkill))
head(dfexplosive)
dfexplosive<- subset(df,weapdetail == "Explosive" & iyear != "" & nkill != "", select = c(iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm" & iyear != "" & nkill != "", select = c(iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
dfexplosive<- subset(df,weapdetail == "Explosive" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
dfexplosive<- subset(df,weapdetail == "Explosive" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
dfexplosive<- subset(df,weapdetail == "Explosive", select = c(weapdetail,iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm", select = c(weapdetail,iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
dfexplosive<- subset(df,weapdetail == "Explosive" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
sum(dfexplosive$nkill)
dfexplosive<- subset(df,weapdetail == "Explosive" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
sum(dfexplosive$nkill)
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
sum(dfAutomaticfirearm$nkill)
dfexplosive<- subset(df,weapdetail == "Explosive" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
sum(dfexplosive$nkill)
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
sum(dfAutomaticfirearm$nkill)
dfFirearm<- subset(df,weapdetail == "Firearm" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfFirearm)
nrow(dfFirearm)
sum(dfFirearm)
sum(dfFirearm$nkill)
nrow(dfAutomaticfirearm)
sum(dfAutomaticfirearm$nkill)
nrow(dfexplosive)
sum(dfexplosive$nkill)
nrow(dfFirearm)
sum(dfFirearm$nkill)
dfAutomaticfirearm[sample(nrow(dfAutomaticfirearm),4029),] -> dfAutomaticfirearmSample
nrow(dfAutomaticfirearmSample)
dfexplosive[sample(nrow(dfexplosive),4029),] -> dfexplosiveSample
nrow(dfexplosiveSample)
sum(dfAutomaticfirearmSample$nkill)
sum(dfexplosiveSample$nkill)
head(dfAutomaticfirearm)
head(dfexplosiveSample)
dfcombinedweapdetail<- paste(dfFirearm$weapdetail,dfexplosiveSample$weapdetail,dfAutomaticfirearmSample$weapdetail)
nrow(dfcombinedweapdetail)
dfFirearm$weapdetail<- paste(dfexplosiveSample$weapdetail,dfAutomaticfirearmSample$weapdetail)
nrow(dfFirearm$weapdetail)
dfFirearm$weapdetail
df <- read.csv("C:/Users/prana/OneDrive/Documents/globalterrorismdb_0617dist.csv", stringsAsFactors=FALSE)
dfexplosive<- subset(df,weapdetail == "Explosive" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
sum(dfexplosive$nkill)
#Automatic firearm
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
sum(dfAutomaticfirearm$nkill)
#Firearm
dfFirearm<- subset(df,weapdetail == "Firearm" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfFirearm)
nrow(dfFirearm)
sum(dfFirearm$nkill)
#normalized
dfAutomaticfirearm[sample(nrow(dfAutomaticfirearm),4029),] -> dfAutomaticfirearmSample
nrow(dfAutomaticfirearmSample)
sum(dfAutomaticfirearmSample$nkill)
head(dfAutomaticfirearm)
dfexplosive[sample(nrow(dfexplosive),4029),] -> dfexplosiveSample
nrow(dfexplosiveSample)
sum(dfexplosiveSample$nkill)
head(dfexplosiveSample)
dfFirearm$weapdetail
df <- read.csv("C:/Users/prana/OneDrive/Documents/globalterrorismdb_0617dist.csv", stringsAsFactors=FALSE)
dfexplosive<- subset(df,weapdetail == "Explosive" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfexplosive)
nrow(dfexplosive)
sum(dfexplosive$nkill)
dfAutomaticfirearm<- subset(df,weapdetail == "Automatic firearm" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfAutomaticfirearm)
nrow(dfAutomaticfirearm)
sum(dfAutomaticfirearm$nkill)
dfFirearm<- subset(df,weapdetail == "Firearm" & iyear != "" & nkill != "", select = c(weapdetail,iyear,nkill))
head(dfFirearm)
nrow(dfFirearm)
sum(dfFirearm$nkill)
dfAutomaticfirearm[sample(nrow(dfAutomaticfirearm),4029),] -> dfAutomaticfirearmSample
nrow(dfAutomaticfirearmSample)
sum(dfAutomaticfirearmSample$nkill)
head(dfAutomaticfirearm)
dfexplosive[sample(nrow(dfexplosive),4029),] -> dfexplosiveSample
nrow(dfexplosiveSample)
sum(dfexplosiveSample$nkill)
head(dfexplosiveSample)
head(dfFirearm$weapdetail)
a <- data.frame(b=c(dfFirearm$weapdetail,dfexplosiveSample$weapdetail,dfAutomaticfirearmSample$nkill))
head(a)
tail(a)
a <- data.frame(b=c(dfFirearm$weapdetail,dfexplosiveSample$weapdetail,dfAutomaticfirearmSample$weapdetail))
head(a)
tail(a)
x <- data.frame(y=c(dfFirearm$nkill,dfexplosiveSample$nkill,dfAutomaticfirearmSample$nkill))
head(x)
tail(x)
finalFile <- data.frame(a,x)
head(finalFile)
dfAutomaticfirearm[sample(nrow(dfAutomaticfirearm),3000),] -> dfAutomaticfirearmSample
nrow(dfAutomaticfirearmSample)
sum(dfAutomaticfirearmSample$nkill)
head(dfAutomaticfirearmSample)
dfexplosive[sample(nrow(dfexplosive),3000),] -> dfexplosiveSample
nrow(dfexplosiveSample)
sum(dfexplosiveSample$nkill)
head(dfexplosiveSample)
dfFirearm[sample(nrow(dfFirearm),3000),] -> dfFirearmSample
nrow(dfFirearmSample)
sum(dfFirearmSample)
head(dfFirearmSample)
head(dfFirearmSample$weapdetail)
a <- data.frame(b=c(dfFirearmSample$weapdetail,dfexplosiveSample$weapdetail,dfAutomaticfirearmSample$weapdetail))
head(a)
tail(a)
x <- data.frame(y=c(dfFirearmSample$nkill,dfexplosiveSample$nkill,dfAutomaticfirearmSample$nkill))
head(x)
tail(x)
finalFile <- data.frame(a,x)
head(finalFile)
tail(finalFile)
